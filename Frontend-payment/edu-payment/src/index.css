@import "tailwindcss";

/* Always-dark baseline */
:root { color-scheme: dark; }
html, body, #root { height: 100%; }
body { @apply bg-neutral-900 text-neutral-100 font-sans antialiased; }

/* 3D helpers */
.preserve-3d { transform-style: preserve-3d; }
.backface-hidden { backface-visibility: hidden; }
.rotateY-180 { transform: rotateY(180deg); }

/* Components tuned for dark (only stock Tailwind colors) */
@layer components {
  .card { @apply rounded-2xl border border-neutral-800 bg-neutral-900/70 backdrop-blur shadow-sm; }
  .btn  { @apply relative overflow-hidden inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium border border-neutral-800
                  bg-neutral-900 hover:bg-neutral-800 active:scale-95 transition;
          box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03); }
  .btn-primary { @apply relative bg-indigo-600 text-white border-transparent hover:bg-indigo-500; }
  .btn-primary::before { /* soft glow */
    content:""; position:absolute; inset:-2px; border-radius:1rem;
    background: radial-gradient(600px 80px at 50% 0%, rgba(99,102,241,.25), transparent);
    pointer-events:none; filter: blur(12px);
  }
  .badge { @apply rounded-full bg-neutral-800 px-2 py-0.5 text-xs text-neutral-300; }
  .pill { @apply rounded-full px-3 py-1 text-xs font-medium; }
  .input { @apply w-full rounded-xl border border-neutral-800 bg-neutral-900 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500; }
  .label { @apply text-sm font-medium text-neutral-300; }
  .skeleton { @apply animate-pulse rounded-lg bg-neutral-800/70; }
}

/* Button Ripple (pure CSS + runtime span) */
.ripple-span {
  position: absolute; border-radius: 9999px;
  transform: translate(-50%, -50%); pointer-events: none;
  background: rgba(255,255,255,0.25); width: 10px; height: 10px; opacity: 0.6;
  animation: ripple 550ms ease-out forwards;
}
@keyframes ripple {
  to { opacity: 0; width: 500px; height: 500px; }
}

/* Drag helpers */
.drag-handle { cursor: grab; }
.dragging .drag-handle { cursor: grabbing; }

/* Coachmark pulse */
.pulse-ring::after{
  content:""; position:absolute; inset:-6px; border-radius:16px;
  border:1px solid rgba(99,102,241,.5); animation:pulse 1.6s ease-out infinite;
}
@keyframes pulse{
  0%{ opacity: .7; transform: scale(.98); }
  100%{ opacity: 0; transform: scale(1.15); }
}
/* ---- Preferred celebration effects ---- */
@keyframes heroPulse {
  0%   { box-shadow: 0 0 0 0 rgba(99,102,241,0.6); }
  60%  { box-shadow: 0 0 0 18px rgba(99,102,241,0); }
  100% { box-shadow: 0 0 0 0 rgba(99,102,241,0); }
}
.preferred-pulse { animation: heroPulse 1.2s ease-out 1; border-radius: 1rem; }

/* brief border glow on the row that became preferred */
@keyframes rowFlash {
  0%   { box-shadow: 0 0 0 0 rgba(99,102,241,0.6); }
  100% { box-shadow: 0 0 0 0 rgba(99,102,241,0); }
}
.preferred-row-flash { animation: rowFlash 0.9s ease-out 1; }

/* small pill utility used by brand chips and copy button */
.pill {
  @apply inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs border border-neutral-700;
}

/* action labels in list */
.label { @apply text-xs text-neutral-400; }

/* inputs with consistent dark styling */
.input {
  @apply bg-neutral-900 border border-neutral-800 rounded-lg px-3 py-2 text-neutral-100 placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/40;
}

/* Ensure ripple span exists (already used earlier) */
.ripple-span { position:absolute; width:18px; height:18px; transform:translate(-50%,-50%); border-radius:9999px; background:rgba(255,255,255,.2); animation:ripple .6s ease-out forwards; }
@keyframes ripple { from { opacity:.7; transform:translate(-50%,-50%) scale(.2) } to { opacity:0; transform:translate(-50%,-50%) scale(3.2) } }

/* Subtle breathing ring on the coachmark CTA */
.pulse-ring { position: relative; }
.pulse-ring::after {
  content:""; position:absolute; inset:-6px; border-radius:12px; border:2px solid rgba(99,102,241,.35);
  animation: ring 2s ease-out infinite;
}
@keyframes ring { 0% { opacity:.6; transform:scale(.95) } 60% { opacity:0; transform:scale(1.15) } 100% { opacity:0 } }

/* Stripe Element shell */
.stripe-field {
  background: transparent;
  border: 1px solid #2a2a2a;
  border-radius: 12px;
  padding: 12px 14px;
}
.StripeElement {
  width: 100%;
}
.StripeElement--focus {
  border-color: #6366f1;
  box-shadow: 0 0 0 2px rgba(99,102,241,0.25);
  border-radius: 12px;
}
